# EduDAO 專案需求文件 (PRD)

## 1. 簡介 (Introduction)

### 1.1 專案總覽 (Project Overview)
EduDAO 是一個專為學生設計的去中心化學習補助自治組織（DAO）。它旨在利用區塊鏈技術與社群共識，建立一個公平、透明且高效的教育資源分配平台。透過本平台，學生可以為他們的學習計畫（如線上課程、技能培訓、學術專案等）申請資金，而捐助者可以瀏覽這些申請並直接資助他們認可的學生。

### 1.2 問題陳述 (Problem Statement)
在當前的教育體系中，許多有潛力的學生因經濟壓力或資源分配不均，而錯失了進修、參與專業課程或執行創新專案的機會。傳統的獎助學金申請流程往往繁瑣、不透明、審核週期長，且可能存在人為偏見，導致資源無法有效地流向最需要的學生。

### 1.3 解決方案 (Proposed Solution)
EduDAO 透過建立一個基於區塊鏈的去中心化平台來解決上述問題。所有資金申請、捐助、與審批流程都將記錄在鏈上，確保其公開透明與不可竄改。平台的治理將由社群共同決定，讓教育資源的分配更加民主與公平。

### 1.4 目標受眾 (Target Audience)
*   **學生 (Students):** 任何有具體學習計畫或專案，並需要資金支持的學生。
*   **捐助者/贊助人 (Donors/Sponsors):** 關心教育、願意支持年輕學子實現夢想的個人或組織。
*   **DAO 成員 (DAO Members):** 持有治理代幣，並積極參與平台治理與決策的社群成員。

## 2. 專案目標 (Goals and Objectives)

### 2.1 主要目標 (Primary Goal)
創建一個全球性、透明、高效且由社群驅動的教育補助生態系統，打破地域與經濟的限制，讓教育機會更加普及。

### 2.2 核心目標 (Key Objectives)
*   **賦能學生:** 提供一個簡單、直接的管道，讓學生可以展示他們的學習熱情與計畫，並獲得所需資金。
*   **連結捐助者:** 建立一個值得信賴的平台，讓捐助者能清楚了解他們的資金去向，並直接支持有潛力的學生。
*   **實現去中心化治理:** 透過 DAO 機制，讓社群成員共同參與重要決策，如專案審核、資金分配策略等。
*   **確保透明與安全:** 利用智能合約自動化資金的託管與發放，並將所有交易紀錄永久保存在區塊鏈上。

## 3. 功能需求 (Features and Functionalities)

### 3.1 學生端功能
*   **身份驗證與個人資料:**
    *   透過連接加密錢包（如 MetaMask）進行註冊/登入。
    *   提供相關證明（如學生證掃描檔、學校 Email 驗證）以確認學生身份。
    *   建立個人頁面，展示學習背景與目標。
*   **補助申請:**
    *   填寫標準化的申請表單，內容包括：
        *   申請主題（想學什麼、想做什麼專案）。
        *   詳細說明與動機。
        *   所需金額（可指定加密貨幣類型，如 USDC/DAI）。
        *   相關證明文件或連結（如課程網址、專案計畫書）。
*   **儀表板 (Dashboard):**
    *   追蹤申請案件的審核狀態（待審核、已通過、已拒絕）。
    *   查看收到的資金總額與捐助者列表。
    *   管理與提領已獲取的資金。

### 3.2 贊助端功能
*   **瀏覽與探索:**
    *   查看所有學生的公開申請列表。
    *   可使用關鍵字、類別（如程式設計、藝術）、申請金額等進行篩選與排序。
*   **支持與捐助:**
    *   查看學生的詳細申請資料與個人頁面。
    *   選擇資助對象，並輸入欲捐助的金額。
    *   支持一次性全額捐助或分期撥款（進階功能）。
    *   所有捐助紀錄將公開顯示在鏈上瀏覽器。
*   **捐助紀錄:**
    *   提供個人化的捐助歷史頁面，方便追蹤所有支持過的專案。

### 3.3 DAO 系統功能
*   **提案與投票機制:**
    *   任何治理代幣持有者皆可對一個學生的補助申請發起資助提案。
    *   社群成員根據其持有的治理代幣數量進行投票（同意或反對）。
    *   設定投票的最低參與率與通過門檻。
*   **治理代幣 (Governance Token):**
    *   作為參與 DAO 治理的憑證。
    *   代幣的分配機制可考慮空投給早期使用者、捐助者與活躍社群成員。
*   **資金庫管理 (Treasury Management):**
    *   智能合約將自動管理 DAO 的資金庫。
    *   只有在社群投票通過後，資金才能從資金庫轉移給申請者。
    *   資金庫的狀態與所有交易皆公開透明。

## 4. 技術架構 (Technical Architecture)

*   **區塊鏈底層 (Blockchain):**
    *   **智能合約平台:** 建議使用與 EVM 兼容的鏈，如 **Ethereum**、**Polygon**、**Arbitrum**，以利用其成熟的生態系與開發工具，並降低 Gas Fee。
    *   **開發框架:** **Foundry** - 用於智能合約的開發、測試與部署。
*   **智能合約 (Smart Contracts):**
    *   **DAO 核心合約:** 管理提案、投票邏輯與成員資格。
    *   **資金庫合約:** 負責保管與分配資金。
    *   **補助申請合約:** 管理學生申請的創建、狀態更新。
    *   **治理代幣合約 (ERC-20):** 定義 EduDAO 的治理代幣。
*   **前端 (Frontend):**
    *   **框架:** **React.js** (搭配 Vite 或 Next.js)。
    *   **Web3 函式庫:** **ethers.js** 或 **viem** 用於與區塊鏈和智能合約互動。
    *   **UI 元件庫:** **Chakra UI** 或 **Material-UI (MUI)** 以快速建構美觀的介面。
*   **後端與數據儲存 (Backend & Data Storage):**
    *   **去中心化儲存:** **IPFS (InterPlanetary File System)** 或 **Arweave** 用於儲存學生的申請文件（如學生證、計畫書），確保數據的持久性與抗審查性。
    *   **數據索引:** **The Graph** 用於索引智能合約的事件數據，提供高效的 API 查詢服務給前端，避免直接讀取鏈上數據的延遲。
*   **開發工具 (DevTools):**
    *   **版本控制:** Git / GitHub。
    *   **測試:** Foundry (智能合約), Jest / React Testing Library (前端)。

## 5. 使用者流程 (User Flow)

1.  **學生申請流程:**
    *   使用者訪問 EduDAO 網站 -> 連接錢包 -> 驗證學生身份 -> 建立個人資料 -> 填寫並提交補助申請 -> 申請上鏈並等待社群審核 -> 審核通過 -> 資金發放至學生錢包。
2.  **贊助者捐助流程:**
    *   使用者訪問 EduDAO 網站 -> 連接錢包 -> 瀏覽學生申請列表 -> 選擇感興趣的申請 -> 進入詳細頁面 -> 輸入金額並確認捐助 -> 交易完成，紀錄上鏈。
3.  **DAO 成員治理流程:**
    *   成員訪問治理頁面 -> 查看待投票的提案 -> 點擊提案查看詳情 -> 使用治理代幣進行投票 -> 等待投票結果。

## 6. 非功能性需求 (Non-Functional Requirements)

*   **安全性 (Security):** 智能合約需經過嚴格測試與第三方審計，以防止常見攻擊（如重入攻擊、整數溢出等）。
*   **易用性 (Usability):** 提供直觀、友善的使用者介面，降低非技術背景用戶（學生、捐助者）的使用門檻。
*   **可擴展性 (Scalability):** 選擇能夠應對未來用戶增長的 Layer 2 解決方案，確保平台的響應速度與低交易成本。
*   **透明性 (Transparency):** 所有治理決策與資金流動都必須在鏈上公開可查。

## 7. 開發里程碑與步驟 (Development Milestones & Steps)

本專案的開發將分為以下幾個主要階段，每個階段都包含具體的任務和目標。

### 階段一：專案初始化與智能合約核心開發 (Sprint 1)
*   **目標:** 建立專案基礎架構，並完成核心的募資智能合約。
*   **任務:**
    1.  **環境建置:**
        *   初始化 `Foundry` 專案於 `Solidity` 目錄。
        *   初始化 `React (Vite)` 專案於 `Web` 目錄。
        *   建立 `GitHub` 儲存庫並完成初始提交。
    2.  **核心合約開發 (`Fundraiser.sol`):**
        *   實作單一募資專案的邏輯，包括：創建、捐款 (`donate`)、提款 (`withdraw`)、設定受益人 (`setBeneficiary`)、儲存專案資料（名稱、URL等）。
    3.  **工廠合約開發 (`FundraiserFactory.sol`):**
        *   實作創建和追蹤所有 `Fundraiser` 合約實例的功能。
        *   提供一個公開函數以獲取所有已部署的募資專案地址。
    4.  **合約單元測試:**
        *   使用 `Foundry` 對 `Fundraiser.sol` 和 `FundraiserFactory.sol` 的所有功能進行全面的單元測試。
    5.  **本地部署與測試:**
        *   撰寫部署腳本 (`Deploy.s.sol`)。
        *   將合約部署到本地測試網路 (Anvil)，並進行手動互動測試。

### 階段二：前端應用程式開發 (Sprint 2)
*   **目標:** 建立一個功能性的前端網站，讓使用者可以與智能合約互動。
*   **任務:**
    1.  **基礎建設:**
        *   整合 `ethers.js` 或 `viem` 以連接錢包和智能合約。
        *   設計並實作 `MainLayout`，包含導覽列與頁尾。
        *   設定前端路由 (`react-router-dom`)。
    2.  **核心頁面開發:**
        *   **瀏覽提案頁面:**
            *   從 `FundraiserFactory` 合約讀取所有募資專案。
            *   為每個專案渲染一個 `FundraiserCard` 元件。
        *   **建立提案頁面:**
            *   設計表單讓學生填寫提案內容。
            *   呼叫 `FundraiserFactory` 的 `createFundraiser` 函數來創建新的募資合約。
        *   **提案詳情互動:**
            *   在 `FundraiserCard` 中實作捐款功能，允許使用者向特定專案捐款。
            *   為專案擁有者（學生）顯示提款按鈕。
    3.  **狀態管理與 UI 優化:**
        *   管理錢包連接狀態，並將其提供給所有需要的元件。
        *   使用 `Material-UI (MUI)` 建立美觀且響應式的介面。

### 階段三：DAO 治理功能與去中心化儲存 (Sprint 3)
*   **目標:** 整合 DAO 投票機制與去中心化檔案儲存。
*   **任務:**
    1.  **治理代幣開發 (`EduToken.sol`):**
        *   創建一個標準的 `ERC-20` 治理代幣。
        *   定義代幣的初始分配策略。
    2.  **DAO 核心合約 (`EduDAO.sol`):**
        *   實作提案（學生申請）的提交與註冊邏輯。
        *   實作基於 `EduToken` 持有量的投票機制（贊成/反對）。
        *   實作投票通過後，從 DAO 資金庫自動撥款給學生的邏輯。
    3.  **前端整合:**
        *   建立 `DAO 治理` 頁面，顯示待投票的提案。
        *   實作投票介面，讓代幣持有者可以進行投票。
    4.  **IPFS/Arweave 整合:**
        *   將學生上傳的證明文件（如計畫書）儲存到 IPFS 或 Arweave。
        *   將回傳的 CID (Content Identifier) 或鏈接儲存在對應的智能合約中。

### 階段四：測試、安全審計與部署 (Sprint 4)
*   **目標:** 確保平台的安全性與穩定性，並將其部署到公開測試網和主網。
*   **任務:**
    1.  **整合測試:**
        *   在前端與智能合約之間進行端到端的測試。
        *   使用 `React Testing Library` 進行前端元件測試。
    2.  **安全性強化:**
        *   聘請第三方機構對所有智能合約進行專業審計。
        *   根據審計報告修復所有發現的漏洞。
    3.  **測試網部署:**
        *   將所有智能合約部署到一個公開的測試網（如 `Sepolia`）。
        *   將前端應用部署到 `Vercel` 或 `Netlify`，並連接到測試網合約。
        *   邀請社群成員參與公開測試。
    4.  **主網部署:**
        *   在所有測試完成且合約被認為安全後，將合約部署到主網（如 `Polygon` 或 `Arbitrum`）。
        *   更新前端應用以連接到主網合約。
    5.  **數據索引 (The Graph):**
        *   建立 Subgraph 來索引鏈上事件，為前端提供快速的數據查詢 API。 